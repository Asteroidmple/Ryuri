# Ryuri

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç”µå­ä¹¦å¤„ç†å·¥å…·ï¼Œä¸“æ³¨äº EPUB ç²¾æ’ç‰ˆå’Œå¤šå¹³å°é€‚é…ã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. EPUB ç²¾æ’ç‰ˆæ¸…æ´—
å°†æ’ç‰ˆç»“æ„æ··ä¹±çš„ EPUB æºæ–‡ä»¶è½¬æ¢ä¸ºç²¾ç¾çš„ç²¾æ’ç‰ˆç”µå­ä¹¦ï¼Œæ”¯æŒä»¥ä¸‹ç‰¹æ€§ï¼š

- **KoboSpan æ–‡æœ¬è¿½è¸ªç³»ç»Ÿ**ï¼šä¸ºæ¯ä¸ªæ–‡æœ¬èŠ‚ç‚¹ç”Ÿæˆå”¯ä¸€ IDï¼Œæ”¯æŒé˜…è¯»è¿›åº¦åŒæ­¥
- **å¼¹å‡ºå¼è„šæ³¨ç³»ç»Ÿ**ï¼šæ”¯æŒå¤šçœ‹ duokan-footnote æ ¼å¼ï¼Œç‚¹å‡»å¼¹å‡ºæ³¨é‡Šå†…å®¹
- **å­—ä½“åµŒå…¥ç³»ç»Ÿ**ï¼šè‡ªåŠ¨ç”Ÿæˆ @font-face è§„åˆ™ï¼Œæ”¯æŒå¤šç§ä¸­æ–‡å­—ä½“
- **æ ‡å‡† OEBPS ç»“æ„**ï¼šä½¿ç”¨ f{x}.xhtml å‘½åè§„èŒƒï¼Œç¬¦åˆè¡Œä¸šæ ‡å‡†
- **åŒ CSS æ¶æ„**ï¼šf8.cssï¼ˆå­—ä½“å®šä¹‰ï¼‰+ f11.cssï¼ˆæ’ç‰ˆæ ·å¼ï¼‰

### 2. å¤šå¹³å°é€‚é…
æ”¯æŒä¸‰ç§ä¸»æµé˜…è¯»å¹³å°çš„ç²¾æ’ç‰ˆæ ‡å‡†ï¼š

| å¹³å° | ç‰¹æ€§ |
|------|------|
| **å¤šçœ‹ (Duokan)** | å®Œæ•´ duokan-* ç±»æ”¯æŒï¼Œå¼¹å‡ºå¼è„šæ³¨å›¾æ ‡ï¼Œå¤šçœ‹ä¸“ç”¨å…ƒæ•°æ® |
| **æŒé˜… (Zhangyue)** | ç®€åŒ–ç‰ˆæœ¬ï¼Œä¼˜åŒ–æ’ç‰ˆç»“æ„ |
| **Kindle** | æ ‡å‡† EPUB3 å…¼å®¹ç‰ˆæœ¬ï¼ŒSend to Kindle ä¼˜åŒ– |

### 3. EPUB åŠ å¯†/è§£å¯†
æ”¯æŒä¸ epub_tool å®Œå…¨å…¼å®¹çš„åŠ å¯†è§£å¯†åŠŸèƒ½ï¼š

- **æ–‡ä»¶åŠ å¯†**ï¼šä½¿ç”¨ MD5 å“ˆå¸Œå’Œæ–‡ä»¶åæ··æ·†ç®—æ³•ä¿æŠ¤ EPUB å†…å®¹
- **æ–‡ä»¶è§£å¯†**ï¼šæ”¯æŒè§£å¯†å—ä¿æŠ¤çš„ EPUB æ–‡ä»¶
- **å­—ä½“åŠ å¯†**ï¼šæ”¯æŒå­—ä½“æ–‡ä»¶çš„ç‰¹æ®ŠåŠ å¯†å¤„ç†
- **åŒå‘å…¼å®¹**ï¼šä¸ epub_tool ç”Ÿæˆçš„åŠ å¯†æ–‡ä»¶å®Œå…¨å…¼å®¹

### 4. ç”µå­ä¹¦æ ¼å¼è½¬æ¢
æ”¯æŒå¤šç§ç”µå­ä¹¦æ ¼å¼ä¹‹é—´çš„äº’ç›¸è½¬æ¢ï¼š

- **EPUB è½¬æ¢**ï¼šæ”¯æŒ EPUB 2.0/3.0 æ ¼å¼è½¬æ¢
- **MOBI/AZW3 è½¬æ¢**ï¼šæ”¯æŒ Kindle æ ¼å¼çš„ç”Ÿæˆ
- **FB2 è½¬æ¢**ï¼šæ”¯æŒ FictionBook æ ¼å¼
- **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒæ‰¹é‡æ–‡ä»¶è½¬æ¢ï¼Œæé«˜æ•ˆç‡

### 5. EPUB 3.0 æ ‡å‡†åŒ–
åŸºäº EpubSanitizer æ¶æ„çš„æ ‡å‡†åŒ–åŠŸèƒ½ï¼š

- **EPUB 2 å‡çº§**ï¼šè‡ªåŠ¨å°† EPUB 2.0 å‡çº§åˆ° EPUB 3.0 æ ‡å‡†
- **HTML5 é€‚é…**ï¼šå°†æ—§ç‰ˆ HTML è½¬æ¢ä¸º HTML5 æ ‡å‡†
- **CSS ä¼˜åŒ–**ï¼šæ¸…ç†å’Œä¼˜åŒ– CSS æ ·å¼è¡¨
- **éšç§æ¸…ç†**ï¼šè‡ªåŠ¨æ¸…ç†é˜…è¯»å™¨å…ƒæ•°æ®å’Œä¸ªäººä¿¡æ¯
- **å¤šè¿‡æ»¤å™¨é“¾**ï¼šæ”¯æŒå¤šä¸ªè¿‡æ»¤å™¨é“¾å¼å¤„ç†
- **å¤šçº¿ç¨‹å¤„ç†**ï¼šåˆ©ç”¨å¤šçº¿ç¨‹æå‡å¤„ç†é€Ÿåº¦

### 6. æ–‡ä»¶ç³»ç»ŸæŠ½è±¡
- **å†…å­˜æ–‡ä»¶ç³»ç»Ÿ (MemFS)**ï¼šé«˜æ€§èƒ½å†…å­˜æ“ä½œï¼Œé€‚åˆæ‰¹é‡å¤„ç†
- **ç£ç›˜æ–‡ä»¶ç³»ç»Ÿ (DiskFS)**ï¼šç›´æ¥æ“ä½œç£ç›˜æ–‡ä»¶ï¼Œé€‚åˆå¤§æ–‡ä»¶
- **XML ç¼“å­˜æœºåˆ¶**ï¼šè‡ªåŠ¨ç¼“å­˜è§£æåçš„ XMLï¼Œæå‡æ€§èƒ½

### 7. é…ç½®ç®¡ç†
ä¸‰å±‚é…ç½®ä¼˜å…ˆçº§æ¶æ„ï¼š
- ä»£ç é»˜è®¤å€¼
- é…ç½®æ–‡ä»¶
- è¿è¡Œæ—¶å‚æ•°

## å®‰è£…

### ç¯å¢ƒè¦æ±‚
- Python 3.7+
- æ— éœ€é¢å¤–ä¾èµ–ï¼ˆä»…ä½¿ç”¨ Python æ ‡å‡†åº“ï¼‰

### å®‰è£…æ­¥éª¤
```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Asteroidmple/Ryuri.git
cd ryuri

# ç›´æ¥ä½¿ç”¨
python RyuriCore/RyuriCore.py --help
```

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤è¡Œä½¿ç”¨

#### åŸºæœ¬ç²¾æ’ç‰ˆæ¸…æ´—
```bash
# é€šç”¨ç²¾æ’ç‰ˆ
python RyuriCore/RyuriCore.py clean input.epub output.epub

# å¤šçœ‹é€‚é…
python RyuriCore/RyuriCore.py clean input.epub output.epub --platform duokan

# æŒé˜…é€‚é…
python RyuriCore/RyuriCore.py clean input.epub output.epub --platform zhangyue

# Kindle é€‚é…
python RyuriCore/RyuriCore.py clean input.epub output.epub --platform kindle
```

> **çµæ„Ÿæ¥æº**: æ–‡ä»¶æ ¼å¼è½¬æ¢åŠŸèƒ½çµæ„Ÿæ¥æºäº [calibre](https://github.com/kovidgoyal/calibre)

#### EPUB åŠ å¯†/è§£å¯†
```bash
# åŠ å¯† EPUB æ–‡ä»¶
python RyuriCore/RyuriCore.py encrypt input.epub output_encrypted.epub

# è§£å¯† EPUB æ–‡ä»¶
python RyuriCore/RyuriCore.py decrypt input_encrypted.epub output_decrypted.epub

# å­—ä½“åŠ å¯†
python RyuriCore/RyuriCore.py encrypt-fonts input.epub output_fonts_encrypted.epub
```

> **çµæ„Ÿæ¥æº**: åŠ å¯†/è§£å¯†åŠŸèƒ½çµæ„Ÿæ¥æºäº [epub_tool](https://github.com/cnwxi/epub_tool)

#### ç”µå­ä¹¦æ ¼å¼è½¬æ¢
```bash
# EPUB è½¬ MOBI
python RyuriCore/RyuriCore.py convert input.epub output.mobi --output-format mobi

# EPUB è½¬ AZW3
python RyuriCore/RyuriCore.py convert input.epub output.azw3 --output-format azw3

# EPUB è½¬ FB2
python RyuriCore/RyuriCore.py convert input.epub output.fb2 --output-format fb2

# MOBI è½¬ EPUB
python RyuriCore/RyuriCore.py convert input.mobi output.epub --output-format epub
```

#### EPUB 3.0 æ ‡å‡†åŒ–
```bash
# æ ‡å‡†åŒ– EPUBï¼ˆå‡çº§åˆ° EPUB 3.0ï¼‰
python RyuriCore/RyuriCore.py sanitize input.epub output_sanitized.epub

# æ ‡å‡†åŒ–å¹¶æ¸…ç†éšç§æ•°æ®
python RyuriCore/RyuriCore.py sanitize input.epub output_clean.epub --filters privacy,metadata

# æ ‡å‡†åŒ–å¹¶ä¼˜åŒ– CSS
python RyuriCore/RyuriCore.py sanitize input.epub output_optimized.epub --optimize-css
```

> **çµæ„Ÿæ¥æº**: æ ‡å‡†åŒ–åŠŸèƒ½çµæ„Ÿæ¥æºäº [EpubSanitizer](https://github.com/qinlili23333/EpubSanitizer)

### Python API ä½¿ç”¨

```python
from RyuriCore.RyuriCore import RyuriCore, EPUBCleaner

# ä½¿ç”¨ RyuriCore ä¸»ç±»
core = RyuriCore()

# ç²¾æ’ç‰ˆæ¸…æ´—
success = core.clean(
    input_path='input.epub',
    output_path='output.epub',
    target_platform='duokan'  # å¯é€‰: 'generic', 'duokan', 'zhangyue', 'kindle'
)

# ä½¿ç”¨ EPUBCleaner ç›´æ¥
 cleaner = EPUBCleaner(target_platform='duokan')
success = cleaner.clean('input.epub', 'output.epub')

# EPUB åŠ å¯†/è§£å¯†
from RyuriCore.RyuriCore import EPUBEncryptor

# åˆ›å»ºåŠ å¯†å™¨
encryptor = EPUBEncryptor(password='your_password')

# åŠ å¯† EPUB
encryptor.encrypt('input.epub', 'output_encrypted.epub')

# è§£å¯† EPUB
encryptor.decrypt('input_encrypted.epub', 'output_decrypted.epub')

# å­—ä½“åŠ å¯†
encryptor.encrypt_fonts('input.epub', 'output_fonts_encrypted.epub')

# ç”µå­ä¹¦æ ¼å¼è½¬æ¢
from RyuriCore.RyuriCore import EbookConverter

# åˆ›å»ºè½¬æ¢å™¨
converter = EbookConverter(
    output_format='mobi',  # å¯é€‰: 'epub', 'mobi', 'azw3', 'fb2'
    input_profile='default',
    output_profile='kindle'
)

# æ‰§è¡Œè½¬æ¢
converter.convert('input.epub', 'output.mobi')

# EPUB 3.0 æ ‡å‡†åŒ–
from RyuriCore.RyuriCore import EPUBSanitizer, SanitizerConfig

# åˆ›å»ºé…ç½®
sanitizer_config = SanitizerConfig(
    filters=['default', 'privacy'],  # è¿‡æ»¤å™¨åˆ—è¡¨
    epub_version='3.0',              # ç›®æ ‡ EPUB ç‰ˆæœ¬
    threads='multi',                 # å¤šçº¿ç¨‹æ¨¡å¼
    optimize_css=True,               # ä¼˜åŒ– CSS
    remove_metadata=True             # ç§»é™¤éšç§å…ƒæ•°æ®
)

# åˆ›å»ºæ ‡å‡†åŒ–å™¨
sanitizer = EPUBSanitizer(config=sanitizer_config)

# æ‰§è¡Œæ ‡å‡†åŒ–
sanitizer.sanitize('input.epub', 'output_sanitized.epub')

# æ‰¹é‡å¤„ç†
from RyuriCore.RyuriCore import BatchProcessor

# åˆ›å»ºæ‰¹å¤„ç†å™¨
batch = BatchProcessor(
    processor='sanitizer',  # å¯é€‰: 'cleaner', 'encryptor', 'converter', 'sanitizer'
    config={'target_platform': 'duokan'}
)

# æ·»åŠ ä»»åŠ¡
batch.add_task('input1.epub', 'output1.epub')
batch.add_task('input2.epub', 'output2.epub')
batch.add_task('input3.epub', 'output3.epub')

# æ‰§è¡Œæ‰¹é‡å¤„ç†
batch.process()
```

### é«˜çº§ç”¨æ³•

#### è‡ªå®šä¹‰é…ç½®
```python
from RyuriCore.RyuriCore import RyuriCore, ConfigManager

# åˆ›å»ºè‡ªå®šä¹‰é…ç½®
config = {
    'cleaner': {
        'enabled': True,
        'preserve_original': False,
        'add_kobospan': True,
        'process_footnotes': True
    },
    'encryptor': {
        'enabled': True,
        'algorithm': 'md5',           # åŠ å¯†ç®—æ³•
        'obfuscate_filenames': True,  # æ··æ·†æ–‡ä»¶å
        'encrypt_fonts': True         # åŠ å¯†å­—ä½“æ–‡ä»¶
    },
    'converter': {
        'verbose': 1,                 # è¯¦ç»†è¾“å‡ºçº§åˆ«
        'input_profile': 'default',   # è¾“å…¥é…ç½®æ–‡ä»¶
        'output_profile': 'kindle',   # è¾“å‡ºé…ç½®æ–‡ä»¶
        'preserve_cover': True,       # ä¿ç•™å°é¢
        'embed_fonts': False          # åµŒå…¥å­—ä½“
    },
    'sanitizer': {
        'enabled': True,
        'filters': 'default,privacy', # è¿‡æ»¤å™¨åˆ—è¡¨
        'threads': 'multi',           # çº¿ç¨‹æ¨¡å¼
        'epub_ver': '3.0',            # ç›®æ ‡ EPUB ç‰ˆæœ¬
        'sanitize_ncx': True,         # æ¸…ç† NCX
        'correct_mime': True,         # ä¿®æ­£ MIME ç±»å‹
        'optimize_css': True,         # ä¼˜åŒ– CSS
        'remove_metadata': True,      # ç§»é™¤éšç§å…ƒæ•°æ®
        'publisher_mode': False       # å‡ºç‰ˆå•†æ¨¡å¼
    }
}

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®åˆå§‹åŒ–
core = RyuriCore(config=config)
```

#### åŠ å¯†/è§£å¯†é«˜çº§é…ç½®
```python
from RyuriCore.RyuriCore import EPUBEncryptor, EncryptorConfig

# åˆ›å»ºåŠ å¯†é…ç½®
encryptor_config = EncryptorConfig(
    password='your_password',
    algorithm='md5',              # åŠ å¯†ç®—æ³•: 'md5', 'sha256'
    obfuscate_filenames=True,     # æ˜¯å¦æ··æ·†æ–‡ä»¶å
    encrypt_fonts=True,           # æ˜¯å¦åŠ å¯†å­—ä½“
    encrypt_images=False,         # æ˜¯å¦åŠ å¯†å›¾ç‰‡
    compatibility='epub_tool'     # å…¼å®¹æ€§æ¨¡å¼: 'epub_tool', 'ryuri'
)

# åˆ›å»ºåŠ å¯†å™¨
encryptor = EPUBEncryptor(config=encryptor_config)

# åŠ å¯†
encryptor.encrypt('input.epub', 'output.epub')

# è§£å¯†
encryptor.decrypt('input.epub', 'output.epub')
```

#### æ ¼å¼è½¬æ¢é«˜çº§é…ç½®
```python
from RyuriCore.RyuriCore import EbookConverter, ConverterConfig

# åˆ›å»ºè½¬æ¢é…ç½®
converter_config = ConverterConfig(
    output_format='mobi',         # è¾“å‡ºæ ¼å¼: 'epub', 'mobi', 'azw3', 'fb2'
    input_profile='default',      # è¾“å…¥é…ç½®æ–‡ä»¶
    output_profile='kindle',      # è¾“å‡ºé…ç½®æ–‡ä»¶
    preserve_cover=True,          # ä¿ç•™å°é¢
    embed_fonts=False,            # åµŒå…¥å­—ä½“
    compress_images=True,         # å‹ç¼©å›¾ç‰‡
    image_quality=85,             # å›¾ç‰‡è´¨é‡ (0-100)
    max_image_size=1024,          # æœ€å¤§å›¾ç‰‡å°ºå¯¸
    table_of_contents=True,       # ç”Ÿæˆç›®å½•
    metadata_handling='preserve'  # å…ƒæ•°æ®å¤„ç†: 'preserve', 'remove', 'update'
)

# åˆ›å»ºè½¬æ¢å™¨
converter = EbookConverter(config=converter_config)

# æ‰§è¡Œè½¬æ¢
converter.convert('input.epub', 'output.mobi')
```

#### æ ‡å‡†åŒ–é«˜çº§é…ç½®
```python
from RyuriCore.RyuriCore import EPUBSanitizer, SanitizerConfig

# åˆ›å»ºæ ‡å‡†åŒ–é…ç½®
sanitizer_config = SanitizerConfig(
    # åŸºç¡€é…ç½®
    epub_version='3.0',           # ç›®æ ‡ EPUB ç‰ˆæœ¬: '2.0', '3.0'
    threads='multi',              # çº¿ç¨‹æ¨¡å¼: 'single', 'multi'
    
    # è¿‡æ»¤å™¨é…ç½®
    filters=['default', 'privacy', 'metadata', 'css'],
    # å¯é€‰è¿‡æ»¤å™¨:
    # - 'default': é»˜è®¤æ¸…ç†
    # - 'privacy': æ¸…ç†éšç§æ•°æ®
    # - 'metadata': æ¸…ç†å…ƒæ•°æ®
    # - 'css': ä¼˜åŒ– CSS
    # - 'html': ä¼˜åŒ– HTML
    # - 'fonts': ä¼˜åŒ–å­—ä½“
    # - 'images': ä¼˜åŒ–å›¾ç‰‡
    
    # å¤„ç†é€‰é¡¹
    sanitize_ncx=True,            # æ¸…ç† NCX æ–‡ä»¶
    correct_mime=True,            # ä¿®æ­£ MIME ç±»å‹
    xml_cache=True,               # å¯ç”¨ XML ç¼“å­˜
    
    # ä¼˜åŒ–é€‰é¡¹
    optimize_css=True,            # ä¼˜åŒ– CSS
    optimize_html=True,           # ä¼˜åŒ– HTML
    minify_css=False,             # å‹ç¼© CSS
    minify_html=False,            # å‹ç¼© HTML
    
    # éšç§é€‰é¡¹
    remove_metadata=True,         # ç§»é™¤éšç§å…ƒæ•°æ®
    remove_reading_data=True,     # ç§»é™¤é˜…è¯»æ•°æ®
    remove_annotations=False,     # ç§»é™¤æ³¨é‡Š
    
    # é«˜çº§é€‰é¡¹
    publisher_mode=False,         # å‡ºç‰ˆå•†æ¨¡å¼
    epub3_guess_toc=False,        # çŒœæµ‹ç›®å½•
    epub3_correct_spine=True,     # ä¿®æ­£ spine
    compress=0                    # å‹ç¼©çº§åˆ« (0-9)
)

# åˆ›å»ºæ ‡å‡†åŒ–å™¨
sanitizer = EPUBSanitizer(config=sanitizer_config)

# æ‰§è¡Œæ ‡å‡†åŒ–
sanitizer.sanitize('input.epub', 'output.epub')

# æ‰¹é‡æ ‡å‡†åŒ–
sanitizer.sanitize_batch([
    ('input1.epub', 'output1.epub'),
    ('input2.epub', 'output2.epub'),
    ('input3.epub', 'output3.epub')
])
```

#### æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
```python
from RyuriCore.RyuriCore import MemFS, DiskFS

# å†…å­˜æ–‡ä»¶ç³»ç»Ÿ
mem_fs = MemFS()
mem_fs.import_from_zip('input.epub')

# è¯»å–æ–‡ä»¶
content = mem_fs.read_string('OEBPS/Text/chapter1.xhtml')
xml_root = mem_fs.read_xml('OEBPS/content.opf')

# å†™å…¥æ–‡ä»¶
mem_fs.write_string('OEBPS/Text/new.xhtml', '<html>...</html>')
mem_fs.write_xml('OEBPS/content.opf', xml_root, is_opf=True)

# å¯¼å‡ºåˆ° ZIP
mem_fs.export_to_zip('output.epub')

# ç£ç›˜æ–‡ä»¶ç³»ç»Ÿ
disk_fs = DiskFS('/path/to/epub')
files = disk_fs.get_all_files()
```

## é…ç½®å‚æ•°

### é…ç½®ç®¡ç†å™¨ (ConfigManager)

é…ç½®é‡‡ç”¨ä¸‰å±‚ä¼˜å…ˆçº§æ¶æ„ï¼š
1. **ä»£ç é»˜è®¤å€¼**ï¼šå†…å»ºé»˜è®¤é…ç½®
2. **é…ç½®æ–‡ä»¶**ï¼šJSON æ ¼å¼é…ç½®æ–‡ä»¶
3. **è¿è¡Œæ—¶å‚æ•°**ï¼šAPI è°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°

#### é»˜è®¤é…ç½®ç»“æ„
```python
{
    'converter': {
        'verbose': 0,              # è¯¦ç»†è¾“å‡ºçº§åˆ« (0-3)
        'debug_pipeline': None,     # è°ƒè¯•ç®¡é“
        'input_profile': 'default', # è¾“å…¥é…ç½®æ–‡ä»¶
        'output_profile': 'default' # è¾“å‡ºé…ç½®æ–‡ä»¶
    },
    'encryptor': {
        'enabled': True,           # æ˜¯å¦å¯ç”¨åŠ å¯†
        'algorithm': 'md5',        # åŠ å¯†ç®—æ³•: 'md5', 'sha256'
        'obfuscate_filenames': True,  # æ˜¯å¦æ··æ·†æ–‡ä»¶å
        'encrypt_fonts': True,     # æ˜¯å¦åŠ å¯†å­—ä½“
        'encrypt_images': False,   # æ˜¯å¦åŠ å¯†å›¾ç‰‡
        'compatibility': 'epub_tool'  # å…¼å®¹æ€§æ¨¡å¼
    },
    'sanitizer': {
        'filters': 'default,privacy',  # è¿‡æ»¤å™¨åˆ—è¡¨
        'threads': 'multi',            # çº¿ç¨‹æ¨¡å¼
        'cache': 'ram',                # ç¼“å­˜æ¨¡å¼
        'epub_ver': 0,                 # EPUB ç‰ˆæœ¬
        'sanitize_ncx': True,          # æ˜¯å¦æ¸…ç† NCX
        'correct_mime': True,          # æ˜¯å¦ä¿®æ­£ MIME ç±»å‹
        'xml_cache': True,             # æ˜¯å¦å¯ç”¨ XML ç¼“å­˜
        'publisher_mode': False,       # å‡ºç‰ˆå•†æ¨¡å¼
        'epub3_guess_toc': False,      # æ˜¯å¦çŒœæµ‹ç›®å½•
        'epub3_correct_spine': True,   # æ˜¯å¦ä¿®æ­£ spine
        'compress': 0,                 # å‹ç¼©çº§åˆ«
        'optimize_css': True,          # æ˜¯å¦ä¼˜åŒ– CSS
        'optimize_html': True,         # æ˜¯å¦ä¼˜åŒ– HTML
        'remove_metadata': True,       # æ˜¯å¦ç§»é™¤éšç§å…ƒæ•°æ®
        'remove_reading_data': True    # æ˜¯å¦ç§»é™¤é˜…è¯»æ•°æ®
    },
    'reader': {
        'enabled': True             # æ˜¯å¦å¯ç”¨é˜…è¯»å™¨
    },
    'editor': {
        'enabled': True             # æ˜¯å¦å¯ç”¨ç¼–è¾‘å™¨
    },
    'cleaner': {
        'enabled': True             # æ˜¯å¦å¯ç”¨æ¸…æ´—å™¨
    },
    'plugins': {
        'enabled': True,            # æ˜¯å¦å¯ç”¨æ’ä»¶
        'paths': []                 # æ’ä»¶è·¯å¾„åˆ—è¡¨
    }
}
```

### åŠ å¯†/è§£å¯†é…ç½® (EncryptorConfig)

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `password` | str | å¿…å¡« | åŠ å¯†å¯†ç  |
| `algorithm` | str | 'md5' | åŠ å¯†ç®—æ³•: 'md5', 'sha256' |
| `obfuscate_filenames` | bool | True | æ˜¯å¦æ··æ·†æ–‡ä»¶å |
| `encrypt_fonts` | bool | True | æ˜¯å¦åŠ å¯†å­—ä½“æ–‡ä»¶ |
| `encrypt_images` | bool | False | æ˜¯å¦åŠ å¯†å›¾ç‰‡æ–‡ä»¶ |
| `compatibility` | str | 'epub_tool' | å…¼å®¹æ€§æ¨¡å¼: 'epub_tool', 'ryuri' |

### æ ¼å¼è½¬æ¢é…ç½® (ConverterConfig)

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `output_format` | str | 'epub' | è¾“å‡ºæ ¼å¼: 'epub', 'mobi', 'azw3', 'fb2' |
| `input_profile` | str | 'default' | è¾“å…¥è®¾å¤‡é…ç½®æ–‡ä»¶ |
| `output_profile` | str | 'default' | è¾“å‡ºè®¾å¤‡é…ç½®æ–‡ä»¶ |
| `preserve_cover` | bool | True | æ˜¯å¦ä¿ç•™å°é¢ |
| `embed_fonts` | bool | False | æ˜¯å¦åµŒå…¥å­—ä½“ |
| `compress_images` | bool | True | æ˜¯å¦å‹ç¼©å›¾ç‰‡ |
| `image_quality` | int | 85 | å›¾ç‰‡è´¨é‡ (0-100) |
| `max_image_size` | int | 1024 | æœ€å¤§å›¾ç‰‡å°ºå¯¸ |
| `table_of_contents` | bool | True | æ˜¯å¦ç”Ÿæˆç›®å½• |
| `metadata_handling` | str | 'preserve' | å…ƒæ•°æ®å¤„ç†: 'preserve', 'remove', 'update' |

### æ ‡å‡†åŒ–é…ç½® (SanitizerConfig)

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `epub_version` | str | '3.0' | ç›®æ ‡ EPUB ç‰ˆæœ¬: '2.0', '3.0' |
| `threads` | str | 'multi' | çº¿ç¨‹æ¨¡å¼: 'single', 'multi' |
| `filters` | list | ['default'] | è¿‡æ»¤å™¨åˆ—è¡¨ |
| `sanitize_ncx` | bool | True | æ˜¯å¦æ¸…ç† NCX æ–‡ä»¶ |
| `correct_mime` | bool | True | æ˜¯å¦ä¿®æ­£ MIME ç±»å‹ |
| `xml_cache` | bool | True | æ˜¯å¦å¯ç”¨ XML ç¼“å­˜ |
| `optimize_css` | bool | True | æ˜¯å¦ä¼˜åŒ– CSS |
| `optimize_html` | bool | True | æ˜¯å¦ä¼˜åŒ– HTML |
| `minify_css` | bool | False | æ˜¯å¦å‹ç¼© CSS |
| `minify_html` | bool | False | æ˜¯å¦å‹ç¼© HTML |
| `remove_metadata` | bool | True | æ˜¯å¦ç§»é™¤éšç§å…ƒæ•°æ® |
| `remove_reading_data` | bool | True | æ˜¯å¦ç§»é™¤é˜…è¯»æ•°æ® |
| `remove_annotations` | bool | False | æ˜¯å¦ç§»é™¤æ³¨é‡Š |
| `publisher_mode` | bool | False | æ˜¯å¦å¯ç”¨å‡ºç‰ˆå•†æ¨¡å¼ |
| `epub3_guess_toc` | bool | False | æ˜¯å¦çŒœæµ‹ç›®å½• |
| `epub3_correct_spine` | bool | True | æ˜¯å¦ä¿®æ­£ spine |
| `compress` | int | 0 | å‹ç¼©çº§åˆ« (0-9) |

#### è¿‡æ»¤å™¨è¯´æ˜

| è¿‡æ»¤å™¨ | è¯´æ˜ |
|--------|------|
| `default` | é»˜è®¤æ¸…ç†ï¼ŒåŒ…æ‹¬ä¿®å¤å¸¸è§é”™è¯¯ |
| `privacy` | æ¸…ç†éšç§æ•°æ®ï¼Œå¦‚é˜…è¯»è¿›åº¦ã€ä¹¦ç­¾ç­‰ |
| `metadata` | æ¸…ç†å’Œæ ‡å‡†åŒ–å…ƒæ•°æ® |
| `css` | ä¼˜åŒ–å’Œæ¸…ç† CSS æ ·å¼è¡¨ |
| `html` | ä¼˜åŒ–å’Œæ¸…ç† HTML ç»“æ„ |
| `fonts` | ä¼˜åŒ–å­—ä½“æ–‡ä»¶å’Œå¼•ç”¨ |
| `images` | ä¼˜åŒ–å›¾ç‰‡æ–‡ä»¶ |
| `ncx` | æ¸…ç†å’Œä¿®å¤ NCX ç›®å½•æ–‡ä»¶ |
| `opf` | æ¸…ç†å’Œä¿®å¤ OPF åŒ…æ–‡ä»¶ |

#### é…ç½®æ“ä½œæ–¹æ³•
```python
from RyuriCore.RyuriCore import ConfigManager

# åˆ›å»ºé…ç½®ç®¡ç†å™¨
config = ConfigManager()

# è·å–é…ç½®å€¼
value = config.get('sanitizer', 'threads', default='single')

# è®¾ç½®é…ç½®å€¼
config.set('sanitizer', 'threads', 'multi')

# è·å–ç‰¹å®šç±»å‹
int_value = config.get_int('converter', 'verbose')
bool_value = config.get_bool('sanitizer', 'xml_cache')
str_value = config.get_string('cleaner', 'enabled')
```

## API æ–‡æ¡£

### EPUBCleaner ç±»

EPUB ç²¾æ’ç‰ˆæ¸…æ´—å™¨çš„æ ¸å¿ƒç±»ã€‚

#### æ„é€ å‡½æ•°
```python
EPUBCleaner(target_platform: str = "generic")
```

**å‚æ•°ï¼š**
- `target_platform` (str): ç›®æ ‡å¹³å°
  - `"generic"` - é€šç”¨ç²¾æ’ç‰ˆ
  - `"duokan"` - å¤šçœ‹é€‚é…
  - `"zhangyue"` - æŒé˜…é€‚é…
  - `"kindle"` - Kindle é€‚é…

#### ä¸»è¦æ–¹æ³•

##### clean
```python
clean(input_path: str, output_path: str) -> bool
```
æ‰§è¡Œç²¾æ’ç‰ˆæ¸…æ´—ã€‚

**å‚æ•°ï¼š**
- `input_path` (str): è¾“å…¥ EPUB æ–‡ä»¶è·¯å¾„
- `output_path` (str): è¾“å‡º EPUB æ–‡ä»¶è·¯å¾„

**è¿”å›ï¼š**
- `bool`: æ˜¯å¦æˆåŠŸ

**ç¤ºä¾‹ï¼š**
```python
cleaner = EPUBCleaner(target_platform='duokan')
success = cleaner.clean('input.epub', 'output.epub')
```

### RyuriCore ç±»

ä¸»å…¥å£ç±»ï¼Œæ•´åˆæ‰€æœ‰åŠŸèƒ½ã€‚

#### æ„é€ å‡½æ•°
```python
RyuriCore(config: Optional[Dict[str, Any]] = None)
```

**å‚æ•°ï¼š**
- `config` (dict, optional): è‡ªå®šä¹‰é…ç½®å­—å…¸

#### ä¸»è¦æ–¹æ³•

##### clean
```python
clean(input_path: str, output_path: str, target_platform: str = "generic", **kwargs) -> bool
```
ç²¾æ’ç‰ˆæ¸…æ´—å…¥å£æ–¹æ³•ã€‚

**å‚æ•°ï¼š**
- `input_path` (str): è¾“å…¥æ–‡ä»¶è·¯å¾„
- `output_path` (str): è¾“å‡ºæ–‡ä»¶è·¯å¾„
- `target_platform` (str): ç›®æ ‡å¹³å°
- `**kwargs`: é¢å¤–å‚æ•°

### EPUBEncryptor ç±»

EPUB åŠ å¯†/è§£å¯†å™¨ï¼Œæ”¯æŒä¸ epub_tool å…¼å®¹çš„åŠ å¯†ç®—æ³•ã€‚

#### æ„é€ å‡½æ•°
```python
EPUBEncryptor(password: str, config: Optional[EncryptorConfig] = None)
```

**å‚æ•°ï¼š**
- `password` (str): åŠ å¯†/è§£å¯†å¯†ç 
- `config` (EncryptorConfig, optional): åŠ å¯†é…ç½®

#### ä¸»è¦æ–¹æ³•

##### encrypt
```python
encrypt(input_path: str, output_path: str) -> bool
```
åŠ å¯† EPUB æ–‡ä»¶ã€‚

**å‚æ•°ï¼š**
- `input_path` (str): è¾“å…¥ EPUB æ–‡ä»¶è·¯å¾„
- `output_path` (str): è¾“å‡ºåŠ å¯†æ–‡ä»¶è·¯å¾„

**è¿”å›ï¼š**
- `bool`: æ˜¯å¦æˆåŠŸ

##### decrypt
```python
decrypt(input_path: str, output_path: str) -> bool
```
è§£å¯† EPUB æ–‡ä»¶ã€‚

**å‚æ•°ï¼š**
- `input_path` (str): è¾“å…¥åŠ å¯†æ–‡ä»¶è·¯å¾„
- `output_path` (str): è¾“å‡ºè§£å¯†æ–‡ä»¶è·¯å¾„

**è¿”å›ï¼š**
- `bool`: æ˜¯å¦æˆåŠŸ

##### encrypt_fonts
```python
encrypt_fonts(input_path: str, output_path: str) -> bool
```
ä»…åŠ å¯†å­—ä½“æ–‡ä»¶ã€‚

**å‚æ•°ï¼š**
- `input_path` (str): è¾“å…¥ EPUB æ–‡ä»¶è·¯å¾„
- `output_path` (str): è¾“å‡ºæ–‡ä»¶è·¯å¾„

**è¿”å›ï¼š**
- `bool`: æ˜¯å¦æˆåŠŸ

### EbookConverter ç±»

ç”µå­ä¹¦æ ¼å¼è½¬æ¢å™¨ï¼Œæ”¯æŒå¤šç§æ ¼å¼ä¹‹é—´çš„äº’ç›¸è½¬æ¢ã€‚

#### æ„é€ å‡½æ•°
```python
EbookConverter(
    output_format: str = 'epub',
    input_profile: str = 'default',
    output_profile: str = 'default',
    config: Optional[ConverterConfig] = None
)
```

**å‚æ•°ï¼š**
- `output_format` (str): è¾“å‡ºæ ¼å¼ ('epub', 'mobi', 'azw3', 'fb2')
- `input_profile` (str): è¾“å…¥è®¾å¤‡é…ç½®æ–‡ä»¶
- `output_profile` (str): è¾“å‡ºè®¾å¤‡é…ç½®æ–‡ä»¶
- `config` (ConverterConfig, optional): è½¬æ¢é…ç½®

#### ä¸»è¦æ–¹æ³•

##### convert
```python
convert(input_path: str, output_path: str) -> bool
```
æ‰§è¡Œæ ¼å¼è½¬æ¢ã€‚

**å‚æ•°ï¼š**
- `input_path` (str): è¾“å…¥æ–‡ä»¶è·¯å¾„
- `output_path` (str): è¾“å‡ºæ–‡ä»¶è·¯å¾„

**è¿”å›ï¼š**
- `bool`: æ˜¯å¦æˆåŠŸ

**ç¤ºä¾‹ï¼š**
```python
converter = EbookConverter(
    output_format='mobi',
    output_profile='kindle'
)
converter.convert('input.epub', 'output.mobi')
```

### EPUBSanitizer ç±»

EPUB æ ‡å‡†åŒ–å™¨ï¼Œç”¨äºå°† EPUB å‡çº§åˆ° 3.0 æ ‡å‡†å¹¶æ¸…ç†ä¼˜åŒ–ã€‚

#### æ„é€ å‡½æ•°
```python
EPUBSanitizer(config: Optional[SanitizerConfig] = None)
```

**å‚æ•°ï¼š**
- `config` (SanitizerConfig, optional): æ ‡å‡†åŒ–é…ç½®

#### ä¸»è¦æ–¹æ³•

##### sanitize
```python
sanitize(input_path: str, output_path: str) -> bool
```
æ‰§è¡Œæ ‡å‡†åŒ–å¤„ç†ã€‚

**å‚æ•°ï¼š**
- `input_path` (str): è¾“å…¥ EPUB æ–‡ä»¶è·¯å¾„
- `output_path` (str): è¾“å‡ºæ–‡ä»¶è·¯å¾„

**è¿”å›ï¼š**
- `bool`: æ˜¯å¦æˆåŠŸ

##### sanitize_batch
```python
sanitize_batch(tasks: List[Tuple[str, str]]) -> List[bool]
```
æ‰¹é‡æ ‡å‡†åŒ–å¤„ç†ã€‚

**å‚æ•°ï¼š**
- `tasks` (list): ä»»åŠ¡åˆ—è¡¨ï¼Œæ¯ä¸ªä»»åŠ¡ä¸º (input_path, output_path) å…ƒç»„

**è¿”å›ï¼š**
- `list`: æ¯ä¸ªä»»åŠ¡çš„å¤„ç†ç»“æœ

**ç¤ºä¾‹ï¼š**
```python
config = SanitizerConfig(
    epub_version='3.0',
    filters=['default', 'privacy', 'css'],
    threads='multi'
)
sanitizer = EPUBSanitizer(config=config)
sanitizer.sanitize('input.epub', 'output.epub')
```

### BatchProcessor ç±»

æ‰¹é‡å¤„ç†å™¨ï¼Œç”¨äºæ‰¹é‡å¤„ç†å¤šä¸ªæ–‡ä»¶ã€‚

#### æ„é€ å‡½æ•°
```python
BatchProcessor(
    processor: str,
    config: Optional[Dict[str, Any]] = None,
    max_workers: int = 4
)
```

**å‚æ•°ï¼š**
- `processor` (str): å¤„ç†å™¨ç±»å‹ ('cleaner', 'encryptor', 'converter', 'sanitizer')
- `config` (dict, optional): å¤„ç†å™¨é…ç½®
- `max_workers` (int): æœ€å¤§å¹¶è¡Œå·¥ä½œçº¿ç¨‹æ•°

#### ä¸»è¦æ–¹æ³•

##### add_task
```python
add_task(input_path: str, output_path: str, **kwargs) -> None
```
æ·»åŠ å¤„ç†ä»»åŠ¡ã€‚

**å‚æ•°ï¼š**
- `input_path` (str): è¾“å…¥æ–‡ä»¶è·¯å¾„
- `output_path` (str): è¾“å‡ºæ–‡ä»¶è·¯å¾„
- `**kwargs`: é¢å¤–å‚æ•°

##### process
```python
process() -> List[bool]
```
æ‰§è¡Œæ‰€æœ‰ä»»åŠ¡ã€‚

**è¿”å›ï¼š**
- `list`: æ¯ä¸ªä»»åŠ¡çš„å¤„ç†ç»“æœ

**ç¤ºä¾‹ï¼š**
```python
batch = BatchProcessor(processor='sanitizer', max_workers=4)
batch.add_task('input1.epub', 'output1.epub')
batch.add_task('input2.epub', 'output2.epub')
batch.add_task('input3.epub', 'output3.epub')
results = batch.process()
```

### FileSystem æŠ½è±¡ç±»

æ–‡ä»¶ç³»ç»ŸæŠ½è±¡åŸºç±»ï¼Œæä¾›ç»Ÿä¸€çš„æ–‡ä»¶æ“ä½œæ¥å£ã€‚

#### ä¸»è¦æ–¹æ³•

| æ–¹æ³• | è¯´æ˜ |
|------|------|
| `read_bytes(path)` | è¯»å–æ–‡ä»¶å­—èŠ‚ |
| `read_string(path, encoding)` | è¯»å–æ–‡ä»¶å­—ç¬¦ä¸² |
| `read_xml(path)` | è¯»å–å¹¶è§£æ XML |
| `write_bytes(path, data)` | å†™å…¥æ–‡ä»¶å­—èŠ‚ |
| `write_string(path, content, encoding)` | å†™å…¥æ–‡ä»¶å­—ç¬¦ä¸² |
| `write_xml(path, element, encoding, is_opf, is_xhtml)` | å†™å…¥ XML æ–‡ä»¶ |
| `delete_file(path)` | åˆ é™¤æ–‡ä»¶ |
| `file_exists(path)` | æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ |
| `get_all_files()` | è·å–æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨ |
| `get_sha256(path)` | è®¡ç®—æ–‡ä»¶ SHA256 |

### MemFS ç±»

å†…å­˜æ–‡ä»¶ç³»ç»Ÿå®ç°ï¼Œé€‚åˆé«˜æ€§èƒ½æ‰¹é‡å¤„ç†ã€‚

#### ç‰¹æœ‰æ–¹æ³•
```python
# ä» ZIP å¯¼å…¥
mem_fs.import_from_zip('input.epub')

# å¯¼å‡ºåˆ° ZIP
mem_fs.export_to_zip('output.epub')
```

### DiskFS ç±»

ç£ç›˜æ–‡ä»¶ç³»ç»Ÿå®ç°ï¼Œé€‚åˆå¤§æ–‡ä»¶å¤„ç†ã€‚

#### æ„é€ å‡½æ•°
```python
DiskFS(base_path: str)
```

**å‚æ•°ï¼š**
- `base_path` (str): åŸºç¡€ç›®å½•è·¯å¾„

## ç²¾æ’ç‰ˆç‰¹æ€§è¯¦è§£

### 1. KoboSpan æ–‡æœ¬è¿½è¸ª
ä¸ºæ¯ä¸ªæ–‡æœ¬èŠ‚ç‚¹æ·»åŠ å”¯ä¸€ IDï¼Œæ ¼å¼ä¸º `kobo.{æ®µè½å·}.{å¥å­å·}`ï¼š

```html
<p>
  <span class="koboSpan" id="kobo.4.1">æ™šæ˜æ±Ÿå—åœ°åŒºï¼Œå¸‚é•‡è¿™ä¸€èšè½å½¢æ€å¤§è§„æ¨¡å‘è‚²...</span>
  <a class="duokan-footnote" epub:type="noteref" href="#B_745" id="A_745">
    <span class="koboSpan" id="kobo.6.1">
      <img alt="note" src="../Images/f13.png"/>
    </span>
  </a>
</p>
```

### 2. å¼¹å‡ºå¼è„šæ³¨ç³»ç»Ÿ

#### å¤šçœ‹æ ¼å¼
```html
<!-- æ­£æ–‡ä¸­çš„è„šæ³¨å¼•ç”¨ -->
<a class="duokan-footnote" epub:type="noteref" href="#B_1" id="A_1">
  <span class="koboSpan" id="kobo.6.1">
    <img alt="note" src="../Images/f13.png"/>
  </span>
</a>

<!-- è„šæ³¨å†…å®¹ -->
<aside epub:type="footnote" id="B_1">
  <ol class="duokan-footnote-content">
    <li class="duokan-footnote-item" value="1">
      <p class="footnote">è„šæ³¨å†…å®¹...</p>
    </li>
  </ol>
</aside>
```

### 3. å­—ä½“å®šä¹‰

#### f8.css - å­—ä½“å®šä¹‰æ–‡ä»¶
```css
@font-face {
    font-family: "st";
    src: url("../Fonts/st.ttf"),
         local("å®‹ä½“"),
         local("DK-SONGTI"),
         local("STSongti");
}
@font-face {
    font-family: "kt";
    src: url("../Fonts/f81.ttf"),
         local("æ¥·ä½“"),
         local("DK-KAITI"),
         local("STKaiti");
}
/* ... æ›´å¤šå­—ä½“å®šä¹‰ ... */
```

### 4. æ ‡å‡† HTML ç»“æ„
```html
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:epub="http://www.idpf.org/2007/ops" 
      xml:lang="zh-CN">
<head>
  <title>ç« èŠ‚æ ‡é¢˜</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../Styles/f8.css" type="text/css" rel="stylesheet"/>
  <link href="../Styles/f11.css" type="text/css" rel="stylesheet"/>
</head>
<body>
  <div id="book-columns">
    <div id="book-inner">
      <!-- å†…å®¹ -->
    </div>
  </div>
</body>
</html>
```

## é¡¹ç›®ç»“æ„

```
Ryuri/
â”œâ”€â”€ RyuriCore/
â”‚   â””â”€â”€ RyuriCore.py      # æ ¸å¿ƒåŠŸèƒ½å®ç°
â”œâ”€â”€ README.md             # æœ¬æ–‡ä»¶
â””â”€â”€ LICENSE               # è®¸å¯è¯
```

## å…¼å®¹æ€§

### è¾“å…¥æ ¼å¼
- EPUB 2.0
- EPUB 3.0
- å¸¦æœ‰ calibre æ ‡è®°çš„ EPUB

### è¾“å‡ºæ ¼å¼
- æ ‡å‡† EPUB 3.0
- å¤šçœ‹ç²¾æ’ç‰ˆ EPUB
- æŒé˜…ç²¾æ’ç‰ˆ EPUB
- Kindle ä¼˜åŒ– EPUB

## æ€§èƒ½

- **å†…å­˜å ç”¨**ï¼šä½ï¼ˆä½¿ç”¨æµå¼å¤„ç†ï¼‰
- **CPU ä½¿ç”¨**ï¼šä½ï¼ˆçº¯ Python å®ç°ï¼Œæ— å¤æ‚è®¡ç®—ï¼‰
- **å¤„ç†é€Ÿåº¦**ï¼šçº¦ 1-2 ç§’/æœ¬ï¼ˆå–å†³äºæ–‡ä»¶å¤§å°ï¼‰

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## å¼€å‘è®¡åˆ’ (To Do List)

### âœ… å·²å®Œæˆ

- [x] **EPUB åŠ å¯†/è§£å¯†åŠŸèƒ½**
  - [x] MD5/SHA256 åŠ å¯†ç®—æ³•
  - [x] æ–‡ä»¶åæ··æ·†
  - [x] å­—ä½“æ–‡ä»¶åŠ å¯†
  - [x] ä¸ epub_tool å…¼å®¹

- [x] **ç”µå­ä¹¦æ ¼å¼è½¬æ¢åŠŸèƒ½**
  - [x] EPUB/MOBI/AZW3/FB2 äº’è½¬
  - [x] è®¾å¤‡é…ç½®æ–‡ä»¶æ”¯æŒ
  - [x] å›¾ç‰‡å‹ç¼©å’Œä¼˜åŒ–

- [x] **EPUB 3.0 æ ‡å‡†åŒ–åŠŸèƒ½**
  - [x] EPUB 2.0 å‡çº§åˆ° 3.0
  - [x] HTML5 é€‚é…
  - [x] å¤šè¿‡æ»¤å™¨é“¾å¼å¤„ç†
  - [x] éšç§æ•°æ®æ¸…ç†

- [x] **æ‰¹é‡å¤„ç†åŠŸèƒ½**
  - [x] å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†
  - [x] ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†

### ğŸš§ æœªå®Œæˆ

- [ ] **EPUB ç²¾æ’ç‰ˆæ¸…æ´—åŠŸèƒ½** (éƒ¨åˆ†å®Œæˆ)
  - [x] KoboSpan æ–‡æœ¬è¿½è¸ªç³»ç»Ÿ
  - [x] å¼¹å‡ºå¼è„šæ³¨ç³»ç»Ÿ
  - [x] å­—ä½“åµŒå…¥ç³»ç»Ÿ
  - [ ] æ™ºèƒ½æ®µè½è¯†åˆ«
  - [ ] è‡ªåŠ¨ç›®å½•ç”Ÿæˆ
  - [ ] å›¾ç‰‡è‡ªåŠ¨ä¼˜åŒ–

- [ ] **EPUB ç¼–è¾‘åŠŸèƒ½**
  - [ ] å¯è§†åŒ–ç¼–è¾‘å™¨
  - [ ] å®æ—¶é¢„è§ˆ
  - [ ] ä»£ç é«˜äº®
  - [ ] æ™ºèƒ½æç¤º

- [ ] **EPUB æµè§ˆåŠŸèƒ½**
  - [ ] å†…ç½®é˜…è¯»å™¨
  - [ ] é˜…è¯»è¿›åº¦åŒæ­¥
  - [ ] ä¹¦ç­¾ç®¡ç†
  - [ ] ç¬”è®°åŠŸèƒ½

## æ›´æ–°æ—¥å¿—

### v1.1.0
- æ–°å¢ EPUB åŠ å¯†/è§£å¯†åŠŸèƒ½
  - æ”¯æŒ MD5/SHA256 åŠ å¯†ç®—æ³•
  - æ”¯æŒæ–‡ä»¶åæ··æ·†
  - æ”¯æŒå­—ä½“æ–‡ä»¶åŠ å¯†
  - ä¸ epub_tool å®Œå…¨å…¼å®¹
- æ–°å¢ç”µå­ä¹¦æ ¼å¼è½¬æ¢åŠŸèƒ½
  - æ”¯æŒ EPUB/MOBI/AZW3/FB2 äº’è½¬
  - æ”¯æŒè®¾å¤‡é…ç½®æ–‡ä»¶
  - æ”¯æŒå›¾ç‰‡å‹ç¼©å’Œä¼˜åŒ–
- æ–°å¢ EPUB 3.0 æ ‡å‡†åŒ–åŠŸèƒ½
  - æ”¯æŒ EPUB 2.0 å‡çº§åˆ° 3.0
  - æ”¯æŒ HTML5 é€‚é…
  - æ”¯æŒå¤šè¿‡æ»¤å™¨é“¾å¼å¤„ç†
  - æ”¯æŒéšç§æ•°æ®æ¸…ç†
- æ–°å¢æ‰¹é‡å¤„ç†åŠŸèƒ½
  - æ”¯æŒå¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†
  - æ”¯æŒä»»åŠ¡é˜Ÿåˆ—ç®¡ç†

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®ç° EPUB ç²¾æ’ç‰ˆæ¸…æ´—åŠŸèƒ½
- æ”¯æŒå¤šçœ‹ã€æŒé˜…ã€Kindle ä¸‰å¹³å°é€‚é…
- å®ç° KoboSpan æ–‡æœ¬è¿½è¸ªç³»ç»Ÿ
- å®ç°å¼¹å‡ºå¼è„šæ³¨ç³»ç»Ÿ

## è”ç³»æ–¹å¼

- GitHub: [https://github.com/Asteroidmple/Ryuri](https://github.com/Asteroidmple/Ryuri)
